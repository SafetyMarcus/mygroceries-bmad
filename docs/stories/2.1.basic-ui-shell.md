# Story 2.1: Basic UI Shell and Navigation

## Status
Done

## Story
**As a** user,
**I want** a basic application window with a clear title and structure,
**so that** I have a consistent and recognizable frame for all application content.

## Acceptance Criteria
1. **Main Application View**
   - [x] Create a main application view using Compose for Multiplatform
   - [x] Ensure the view serves as a container for all other UI content
   - [x] Implement responsive layout that works on all target platforms (web, Android, iOS)

2. **Top App Bar**
   - [x] Add a top app bar displaying "My Groceries" as the application title
   - [x] Ensure the app bar follows Material Design 3 guidelines
   - [x] Make the app bar responsive to different screen sizes

3. **Navigation Framework**
   - [x] Set up a basic navigation structure using Compose Navigation
   - [x] Create a navigation graph with a single destination for the dashboard
   - [x] Implement a navigation controller to handle screen transitions

4. **Platform Consistency**
   - [x] Verify UI renders correctly on all target platforms
   - [x] Address any platform-specific UI/UX considerations
   - [x] Ensure touch targets meet accessibility guidelines on all platforms

5. **Material Design Compliance**
   - [x] Implement Material 3 theming
   - [x] Use appropriate typography and spacing

## Tasks / Subtasks
- [x] **Task 1: Set up basic project structure** (AC: #1)
  - [x] Create a `ui` package under `shared/src/commonMain/kotlin/com/safetymarcus/mygroceries/presentation`.
  - [x] Inside `ui`, create a `theme` subpackage.
- [x] **Task 2: Implement Material 3 Theme** (AC: #5)
    - [x] Create a `Theme.kt` file in the `theme` package.
    - [x] Implement a basic Material 3 theme, including color schemes, typography, and shapes.
- [x] **Task 3: Create Main Application View** (AC: #1, #2)
    - [x] Create a `MainView.kt` composable in the `ui` package.
    - [x] Implement a `Scaffold` with a `TopAppBar`.
    - [x] Set the `TopAppBar` title to "My Groceries".
- [x] **Task 4: Set up Navigation** (AC: #3)
    - [x] Add the Compose Navigation dependency.
    - [x] Create a `navigation` package.
    - [x] Implement a basic `NavHost` with a single "dashboard" destination.
- [x] **Task 5: Integrate into Platform-Specific Apps** (AC: #4)
    - [x] In `androidApp`, update `MainActivity.kt` to use the `MainView`.
    - [x] In `iosApp`, update `ContentView.swift` to host the `MainView`.
    - [x] In `web/src/jsMain`, update `Main.kt` to render the `MainView`.

## Dev Notes
### Relevant Source Tree
- **Shared UI:** `shared/src/commonMain/kotlin/com/safetymarcus/mygroceries/presentation/ui/`
- **Shared Theme:** `shared/src/commonMain/kotlin/com/safetymarcus/mygroceries/presentation/ui/theme/`
- **Shared Navigation:** `shared/src/commonMain/kotlin/com/safetymarcus/mygroceries/presentation/navigation/`
- **Android Entry:** `androidApp/src/main/kotlin/com/safetymarcus/mygroceries/android/MainActivity.kt`
- **iOS Entry:** tba
- **Web Entry:** tba

### Coding Standards
- **File Naming:** PascalCase (e.g., `MainView.kt`).
- **Formatting:** 4-space indentation, 100-character line limit.
- **Naming:** `camelCase` for functions, `PascalCase` for classes.
- **Documentation:** Use KDoc for all public elements.

### Tech Stack
- The `tech-stack.md` document was not found. Proceeding with dependencies listed in the story.
- **UI Framework:** Compose Multiplatform
- **Navigation:** Compose Navigation
- **Design System:** Material 3

## Technical Notes
- Use Compose Multiplatform's `MaterialTheme` for theming
- Implement platform-specific navigation components where needed
- Consider using `expect/actual` for any platform-specific UI requirements
- Follow Material Design 3 guidelines for components and layout

## Dependencies
- Compose Multiplatform
- Compose Navigation
- Material 3 for Compose

## Story Points: 3

## Priority: High

## Risk Assessment
- **Risk**: Platform-specific UI inconsistencies
  - **Mitigation**: Regular testing on all target platforms
- **Risk**: Navigation complexity across platforms
  - **Mitigation**: Keep navigation simple and test thoroughly

## Definition of Done
- [ ] Code is reviewed and approved
- [ ] UI renders correctly on all target platforms
- [ ] Basic navigation is functional
- [ ] No new warnings or errors
- [ ] Documentation is updated

## Testing
- Unit tests for any new business logic should be placed in `shared/src/commonTest`.
- UI tests for composables should be created where applicable.
- Manual verification will be required for UI consistency across Android, iOS, and Web platforms.

## Change Log
| Date | Version | Description | Author |
|---|---|---|---|
| 2025-12-22 | 1.0 | Initial draft. | PM |
| 2025-12-22 | 1.1 | Added missing sections for development. | James (Dev Agent) |
| 2025-12-22 | 1.2 | Fixed android build. Removed iOS and web work as it was non functional | Marcus |
| 2025-12-22 | 1.3 | Fixed ios build | Marcus |
| 2025-12-22 | 1.4 | Fixed web (wasmjs) build. Removed standard js build as it was breaking wasmJS | Marcus |